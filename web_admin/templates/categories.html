
{% extends 'base.html' %}
{% block title %}–ö–∞—Ç–µ–≥–æ—Ä–∏–∏{% endblock %}
{% block content %}
<div class="d-flex align-items-center justify-content-between mb-3">
  <h1 class="h3">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h1>
  <a class="btn btn-primary" href="{{ url_for('add_category') }}">+ –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</a>
</div>
<div class="table-responsive">
<table class="table table-striped align-middle">
  <thead><tr><th>ID</th><th>–≠–º–æ–¥–∑–∏</th><th>–ù–∞–∑–≤–∞–Ω–∏–µ</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th><th>–¢–æ–≤–∞—Ä–æ–≤</th><th>–°—Ç–∞—Ç—É—Å</th><th>–î–µ–π—Å—Ç–≤–∏—è</th></tr></thead>
  <tbody>
  {% for c in categories %}
    <tr>
      <td>{{ c[0] }}</td>
      <td><span style="font-size: 1.5rem;">{{ c[3] or 'üì¶' }}</span></td>
      <td><strong>{{ c[1] }}</strong></td>
      <td>{{ c[2][:50] if c[2] else '-' }}{% if c[2] and c[2]|length > 50 %}...{% endif %}</td>
      <td>
        <span class="badge bg-info">{{ c[5] or 0 }} —à—Ç.</span>
      </td>
      <td>
        {% if c[4] %}
          <span class="badge bg-success">–ê–∫—Ç–∏–≤–Ω–∞</span>
        {% else %}
          <span class="badge bg-secondary">–°–∫—Ä—ã—Ç–∞</span>
        {% endif %}
      </td>
      <td>
        <div class="btn-group btn-group-sm">
          <form method="post" action="{{ url_for('toggle_category', cid=c[0]) }}" style="display:inline">
            <button class="btn btn-outline-{% if c[4] %}warning{% else %}success{% endif %}" type="submit" title="{% if c[4] %}–°–∫—Ä—ã—Ç—å{% else %}–ü–æ–∫–∞–∑–∞—Ç—å{% endif %}">
              <i class="fas fa-{% if c[4] %}eye-slash{% else %}eye{% endif %}"></i>
              {% if c[4] %}–°–∫—Ä—ã—Ç—å{% else %}–ü–æ–∫–∞–∑–∞—Ç—å{% endif %}
            </button>
          </form>
          <form method="post" action="{{ url_for('delete_category') }}" style="display:inline" onsubmit="return confirm('–£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é? –í—Å–µ —Ç–æ–≤–∞—Ä—ã –≤ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–∞–∫–∂–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã!')">
            <input type="hidden" name="cid" value="{{ c[0] }}">
            <button class="btn btn-outline-danger" type="submit" title="–£–¥–∞–ª–∏—Ç—å">
              <i class="fas fa-trash"></i>
            </button>
          </form>
        </div>
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>
</div>
{% endblock %}
